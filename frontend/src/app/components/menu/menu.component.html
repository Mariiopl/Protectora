<nav class="navbar">
  <div class="nav-container">
    <div class="logo">üêæ Protectora Animal</div>

    <button class="menu-toggle" (click)="toggleMenu()">‚ò∞</button>

    <ul class="nav-list" [class.open]="menuOpen">

      <!-- Secci√≥n p√∫blica -->
      <li routerLinkActive="active-item" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/catalogo">Adoptados</a>
      </li>

      <li routerLinkActive="active-item" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/mascotas/en-adopcion"> En adopci√≥n</a>
      </li>
     <!-- Secci√≥n voluntario -->
      <li *appHasRole="'voluntario'" routerLinkActive="active-item" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/donacion"> Donaciones </a>
      </li>
     <!-- Secci√≥n Adoptante -->
      <li *appHasRole="'adoptante'" routerLinkActive="active-item" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/tratamientos">Tratamientos</a>        
      </li>
      <li *appHasRole="'adoptante'" routerLinkActive="active-item" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/adopciones">Mascotas Adoptadas</a>        
      </li>


      <!-- Desplegable de gesti√≥n interna -->
      <li class="dropdown" *appHasRole="['administrador','empleado']">
        <a (click)="toggleDropdown('gestion')">Gesti√≥n Interna ‚ñæ</a>
        <ul class="dropdown-menu" [class.show]="dropdowns.gestion">
          <li *appHasRole="'administrador'" routerLinkActive="active-item">
            <a routerLink="/empleados">Empleados</a>
          </li>
          <li *appHasRole="'administrador'" routerLinkActive="active-item">
            <a routerLink="/usuarios">Usuarios</a>
          </li>
          <li routerLinkActive="active-item">
            <a routerLink="/seguimientos">Seguimientos</a>
          </li>
          <li routerLinkActive="active-item">
            <a routerLink="/tareas">Tareas</a>
          </li>
          <li routerLinkActive="active-item">
            <a routerLink="/tratamiento">Tratamientos</a>
          </li>
          <li routerLinkActive="active-item">
            <a routerLink="/turnos">Turnos</a>
          </li>
        </ul>
      </li>

      <!-- Solo admin -->
      <li *appHasRole="'administrador'" routerLinkActive="active-item">
        <a routerLink="/usuarios">Usuarios</a>
      </li>

      <!-- Perfil (por ejemplo, administrador o usuario logueado) -->
      <li *appHasRole="'ADMIN'" routerLinkActive="active-item">
        <a routerLink="/perfil">Perfil</a>
      </li>

      <!-- Usuario logueado -->
      <li class="user-item" *ngIf="username">
        <span>üëã Hola, {{ username }}</span>
      </li>

      <!-- Login / Logout -->
      <li class="logout-item" *ngIf="authService.isAuthenticated()">
        <a (click)="logout()" class="logout-link">Cerrar sesi√≥n</a>
      </li>
      <li class="logout-item" *ngIf="!authService.isAuthenticated()">
        <a routerLink="/login" class="login-link">Iniciar sesi√≥n</a>
      </li>
    </ul>
  </div>
</nav>
